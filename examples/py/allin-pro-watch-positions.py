import asyncio
import os
import sys

root = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
sys.path.append(root + '/python')

# ----------------------------------------------------------------------------

# PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
# https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

# ----------------------------------------------------------------------------
import ccxt.pro as ccxt  # noqa: E402


# AUTO-TRANSPILE #
async def example():
    allin = ccxt.allin({
        "apiKey": "6jAuGb4cCulmdaxx2D8uCBfwZE400g",
        "secret": "8fh5YmDr01IXeq4xqWpQAGf6u2UQZynpWGJwz7cODKnf0QFNvt",
        "options": {
            "defaultType": "future"
        }
    })
    allin.set_sandbox_mode(True)
    symbol = 'BTC/USDT:USDT'
    while True:
        orders = await allin.watch_positions(symbol)
        print('orders: ', orders)

    await allin.close()


asyncio.run(example())
